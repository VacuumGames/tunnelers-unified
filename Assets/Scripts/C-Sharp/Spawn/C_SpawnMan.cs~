using UnityEngine;

public class C_SpawnMan : MonoBehaviour {

	bool green; //is all loaded properly? set by client netman
	public bool Green {
	
		get {
			return green;
		}
		
		set {
			if (!green)
				green = value;
		}
	
	}
	
	public Rect teamSelectionRect;
	
	void Awake () {
	
		if (!Network.isClient || Network.isServer) {
			enabled = false;
			return;
		}
		
	}
	
	//TODO Damn GUI team selection, argh
	void OnGUI () {
		
		if (!Network.isClient || Network.isServer) {
			enabled = false;
			return;
		}
		
		if (green) {
			//put code here
			
			//NOTE: GUILayout is prob better
			
			teamSelectionRect.center = new Vector2 (Screen.width / 2, Screen.height / 2);
			
			teamSelectionRect = GUILayout.Window (0, teamSelectionRect, TeamSelection, "Team Selection");
			
            

			//maybe put all of it in a window? prob be better
			//just the window has to be moveable
			//you never know with screen sizes
		}
		
	}
	
	void TeamSelection (int windowID) {
	
        if (GUILayout.Button("Please click me."))
            print("Got a click");
           
//		int blueAmount;
        
		if (GUILayout.Button ("Blue")) {
			networkView.RPC ("RequestGameEntry", RPCMode.Server, Network.player, true);
			enabled = false;
		}
        
		if (GUILayout.Button ("Red")) {
			networkView.RPC ("RequestGameEntry", RPCMode.Server, Network.player, false);
			enabled = false;
		}

	}
	
}
